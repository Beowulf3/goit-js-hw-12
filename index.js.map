{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/xmark.png","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport { iziError } from '../main';\nconst PIXABAY_KEY = '51390103-e5f94b12a87f57c9fbe51ad97';\n\nexport function getImagesByQuery(query) {\n  return axios('https://pixabay.com/api/', {\n    params: {\n      key: PIXABAY_KEY,\n      q: `${query}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  })\n    .then(res => {\n      return res.data.hits;\n    })\n    .catch(error => {\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        tags,\n        largeImageURL,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\">\n                <div class=\"image-stats\">\n                    <p class=\"img-stat-text\"><span class=\"img-stat-header\">Likes</span> ${likes}</p>\n                    <p class=\"img-stat-text\"><span class=\"img-stat-header\">Views</span> ${views}</p>\n                    <p class=\"img-stat-text\"><span class=\"img-stat-header\">Comments</span> ${comments}</p>\n                    <p class=\"img-stat-text\"><span class=\"img-stat-header\">Downloads</span> ${downloads}</p>\n                </div>\n            </a>\n        </li>\n    `\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  slider.refresh();\n}\n\nlet slider = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAhUExURfn5+/v7+/n5+0dwTPr6/Pn5+vn5+/r6+vT0+vT09Pr6+69tr8QAAAAKdFJOU4B/fwCfoK8wMDCbJE/NAAAAn0lEQVQY00XQIY7DMBCG0ZHMzEJLzYyiPEW7vLfoEULLSvcirrWKVJ9ywTYNfPrI/BPIY4zREMz7NE3TlgjyFdZGmH+BWxLvwNrEEbilyFdfcLe22Hkk5hdbPFkauXCJJ2qauwNLy+UDtTuR24m51/RBLks7MHdq4hI7j8LyYot69Q0/1h7LeWgJ9ZjQhSPdivBOaydY/h9SCNQxxuj4A4bdSawyd2feAAAAAElFTkSuQmCC\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\nimport xmark from './img/xmark.png';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input[name=\"search-text\"]');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  clearGallery();\n  if (!input.value) {\n    iziError('Empty input. Please type images you want ot find!');\n    return;\n  }\n  showLoader();\n  getImagesByQuery(input.value.trim())\n    .then(data => {\n      if (!data.length) {\n        iziError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      createGallery(data);\n      iziToast.success({\n        message: 'This is what was found!',\n        position: 'topLeft',\n        messageSize: 16,\n        messageLineHeight: 24,\n        closeOnEscape: true,\n        closeOnClick: true,\n      });\n    })\n    .catch(error => {\n      iziError('Oops... Something went wrong. Please, try again!');\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nexport function iziError(msg) {\n  iziToast.error({\n    message: msg,\n    messageColor: '#fafafb',\n    messageSize: 16,\n    messageLineHeight: 24,\n    position: 'topRight',\n    displayMode: 'replace',\n    closeOnEscape: true,\n    closeOnClick: true,\n    iconUrl: xmark,\n    theme: 'dark',\n    backgroundColor: '#ef4040',\n    maxWidth: 432,\n  });\n}\n"],"names":["PIXABAY_KEY","getImagesByQuery","query","axios","res","error","gallery","loader","createGallery","images","markup","webformatURL","tags","largeImageURL","likes","views","comments","downloads","slider","SimpleLightbox","clearGallery","showLoader","hideLoader","xmark","form","input","event","iziError","data","iziToast","msg"],"mappings":"owBAEA,MAAMA,EAAc,qCAEb,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAM,2BAA4B,CACvC,OAAQ,CACN,IAAKH,EACL,EAAG,GAAGE,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CACA,CAAG,EACE,KAAKE,GACGA,EAAI,KAAK,IACjB,EACA,MAAMC,GAAS,CACd,MAAMA,CACR,CAAC,CACL,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,KAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,4CAEgCJ,CAAa;AAAA,4BAC7BF,CAAY,UAAUC,CAAI;AAAA;AAAA,0FAEoCE,CAAK;AAAA,0FACLC,CAAK;AAAA,6FACFC,CAAQ;AAAA,8FACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKvG,EACK,KAAK,EAAE,EACVX,EAAQ,mBAAmB,YAAaI,CAAM,EAC9CQ,EAAO,QAAO,CAChB,CAEA,IAAIA,EAAS,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EACM,SAASC,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCnDA,MAAAgB,EAAe,qdCWTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EAEhED,EAAK,iBAAiB,SAAUE,GAAS,CAGvC,GAFAA,EAAM,eAAc,EACpBN,EAAY,EACR,CAACK,EAAM,MAAO,CAChBE,EAAS,mDAAmD,EAC5D,MACF,CACAN,EAAU,EACVpB,EAAiBwB,EAAM,MAAM,KAAI,CAAE,EAChC,KAAKG,GAAQ,CACZ,GAAI,CAACA,EAAK,OAAQ,CAChBD,EACE,0EACV,EACQ,MACF,CACAnB,EAAcoB,CAAI,EAClBC,EAAS,QAAQ,CACf,QAAS,0BACT,SAAU,UACV,YAAa,GACb,kBAAmB,GACnB,cAAe,GACf,aAAc,EACtB,CAAO,CACH,CAAC,EACA,MAAMxB,GAAS,CACdsB,EAAS,kDAAkD,CAC7D,CAAC,EACA,QAAQ,IAAM,CACbL,EAAU,CACZ,CAAC,CACL,CAAC,EAEM,SAASK,EAASG,EAAK,CAC5BD,EAAS,MAAM,CACb,QAASC,EACT,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,SAAU,WACV,YAAa,UACb,cAAe,GACf,aAAc,GACd,QAASP,EACT,MAAO,OACP,gBAAiB,UACjB,SAAU,GACd,CAAG,CACH"}